---
alwaysApply: true
---

# BizHawk Shuffler Go - Development Guide

### ğŸ›  Commands
- **Build**: `make all` (server/client), `make server`, `make client`
- **Validate**: `go vet ./...` and `gofmt -d .`
- **Run Server**: `./dist/server/bizshuffle-server --port 8080`
- **Run Client**: `./dist/client/bizshuffle-client`

### ğŸ“‚ Key Paths
- **Server Logic**: `internal/server/` | **Entry**: `cmd/server/main.go`
- **Client Logic**: `internal/client/` | **Entry**: `cmd/client/main.go`
- **Common Types**: `internal/types/types.go`
- **Web UI**: `web/index.html` (Alpine.js)
- **IPC Script**: `server.lua` (BizHawk side)
- **Plugins**: `plugins/` (Syncs to `dist/server/plugins/`)

### ğŸ”Œ Plugins
- **Files**: `meta.kv` (metadata), `settings.kv` (config), `plugin.lua` (logic)
- **Hooks**: `on_init()`, `on_frame()`, `on_settings_changed(settings)`

### âš ï¸ Rules
1. **Build First**: Always `make`, never run program or run tests.
2. **Persistence**: Server state is in `state.json`.
3. **Validation**: Run `go vet` after any logic changes.
4. **Timeout**: Don't cancel builds (can take 20s+ initially).
